<ion-header>
  <ion-toolbar>
    <ion-title>TodoList</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-text>
    <h1 class="ion-margin">Today</h1>
  </ion-text>
  <ion-text>
    <h4 class="ion-margin">{{date | date: 'dd/MM/yyyy'}}</h4>
  </ion-text>

  <div *ngFor="let task of taskCollection">
    <ion-card *ngIf="!task.state" icon-left>
      <!-- we're filtering the users in the front 
      we know it's a bad practice but we haven't found a query solution in DB 
      *ngIf="task.user==CurrentUser" -->
      <ion-card-content  *ngIf="task.user==CurrentUser"  style="float:left">

        <ion-item>

          <ion-checkbox (click)="checkValue(task.key,task)" color="success">
          </ion-checkbox>
          <ion-card-header class="ion-margin">
            <ion-card-title>{{task.name}}</ion-card-title>
            <ion-card-subtitle>{{task.date}}</ion-card-subtitle>
          </ion-card-header>



        </ion-item>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
<ion-footer no-shadow>
  <ion-toolbar position="bottom">
    <ion-button (click)="presentModal()" class="ion-margin" expand="full">Ajouter task</ion-button>
  </ion-toolbar>
</ion-footer>
